<!DOCTYPE html>
<html lang="ar" dir="rtl" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>مرسيدس - عرض السيارات</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
  <style>
    .lang-ar { display: block; }
    .lang-en { display: none; }
    .en-active .lang-ar { display: none; }
    .en-active .lang-en { display: block; }
  </style>
</head>
<body class="bg-white dark:bg-black text-black dark:text-white transition duration-500">
  <header class="fixed top-0 w-full z-50 flex justify-between items-center px-6 py-4 backdrop-blur-md bg-white/30 dark:bg-black/30 border-b border-gray-200 dark:border-gray-800">
    <h1 class="text-2xl font-extrabold tracking-wide">Mercedes-Benz</h1>
    <div class="flex items-center gap-4">
      <button onclick="toggleDarkMode()" class="glass-btn px-4 py-2 rounded-full text-sm bg-white/20 dark:bg-black/20 text-white">🌓</button>
      <button onclick="toggleLang()" class="glass-btn px-4 py-2 rounded-full text-sm bg-white/20 dark:bg-black/20 text-white">🌐</button>
    </div>
  </header>

  <main class="pt-24 px-6 max-w-7xl mx-auto">
    <h2 class="lang-ar text-4xl font-extrabold mb-8">عرض السيارات</h2>
    <h2 class="lang-en text-4xl font-extrabold mb-8">Cars Listing</h2>

    <div id="cars-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8">
      <!-- السيارات هتتحط هنا -->
    </div>
  </main>

  <footer class="text-center py-6 mt-12 border-t border-gray-300 dark:border-gray-700">
    <p class="lang-ar">&copy; 2025 جميع الحقوق محفوظة - موقع مرسيدس</p>
    <p class="lang-en">&copy; 2025 All rights reserved - Mercedes Website</p>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();

    function toggleDarkMode() {
      document.documentElement.classList.toggle('dark');
    }

    function toggleLang() {
      document.documentElement.classList.toggle('en-active');
    }

    async function fetchCars() {
      try {
        const response = await fetch('https://script.google.com/macros/s/AKfycbz4Fjsfuf_1KQtQd_vauNbFu2uyXuF_SxCQuchtn908_gfppMhdH8bKexCsLJT-9pAKeg/exec?action=getCars');
        const cars = await response.json();
        return cars;
      } catch (error) {
        console.error("خطأ في جلب السيارات:", error);
        return [];
      }
    }

    function createCarCard(car) {
      return `
      <div class="group relative bg-white dark:bg-zinc-900 rounded-2xl shadow-md overflow-hidden hover:shadow-2xl transition-all duration-500" data-aos="fade-up">
        <div class="overflow-hidden">
          <img src="${car.الصورةURL}" alt="${car.الاسم}" class="w-full h-64 object-cover transform group-hover:-translate-y-4 transition duration-500" />
        </div>
        <div class="p-4">
          <h3 class="text-xl font-bold">${car.الاسم}</h3>
          <p class="text-gray-600 dark:text-gray-300 mt-2">السعر: ${car.السعر}</p>
          <a href="car-details.html?id=${car.السيارةID}" class="inline-block mt-4 bg-black text-white dark:bg-white dark:text-black px-5 py-2 rounded-full font-semibold hover:scale-105 transition">عرض التفاصيل</a>
        </div>
      </div>`;
    }

    async function renderCars() {
      const container = document.getElementById('cars-container');
      const cars = await fetchCars();
      if (cars.length === 0) {
        container.innerHTML = `<p class="text-center text-red-500 lang-ar">لا توجد سيارات للعرض حالياً.</p>
                               <p class="text-center text-red-500 lang-en">No cars available at the moment.</p>`;
        return;
      }

      container.innerHTML = cars.map(createCarCard).join('');
      AOS.refresh();
    }

    renderCars();
  </script>
</body>
</html> 