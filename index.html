<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ูุฑุณูุฏุณ - ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    /* ุชุฃุซูุฑ ุงูุธููุฑ ูุน ุงูุชูุจูุฑ */
    #banner-text {
      opacity: 0;
      transform: scale(0.8);
      transition: opacity 1.5s ease, transform 1.5s ease;
    }
    #banner-text.show {
      opacity: 1;
      transform: scale(1);
    }
    html.dark {
      background-color: #000;
      color: #fff;
    }
  </style>
</head>
<body class="bg-white text-black dark:bg-black dark:text-white font-sans transition-colors duration-500">

  <!-- ๐งญ Header -->
  <header class="flex items-center justify-between p-6 bg-gray-100 dark:bg-gray-900">
    <h1 class="text-2xl font-bold tracking-widest" id="site-title">ูุฑุณูุฏุณ</h1>
    <nav class="space-x-6 rtl:space-x-reverse flex items-center">

      <!-- ุฑูุงุจุท -->
      <a href="index.html" class="hover:text-gray-600 dark:hover:text-gray-300 nav-link" data-en="Home" data-ar="ุงูุฑุฆูุณูุฉ">ุงูุฑุฆูุณูุฉ</a>
      <a href="cars.html" class="hover:text-gray-600 dark:hover:text-gray-300 nav-link" data-en="Cars" data-ar="ุงูุณูุงุฑุงุช">ุงูุณูุงุฑุงุช</a>
      <a href="booking.html" class="hover:text-gray-600 dark:hover:text-gray-300 nav-link" data-en="Book Test Drive" data-ar="ุงุญุฌุฒ ุชุฌุฑุจุฉ">ุงุญุฌุฒ ุชุฌุฑุจุฉ</a>
      <a href="contact.html" class="hover:text-gray-600 dark:hover:text-gray-300 nav-link" data-en="Contact Us" data-ar="ุชูุงุตู ูุนูุง">ุชูุงุตู ูุนูุง</a>

      <!-- ุงุฎุชูุงุฑ ุงููุบุฉ -->
      <select id="lang-select" class="ml-4 p-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-black dark:text-white">
        <option value="ar">ุงูุนุฑุจูุฉ</option>
        <option value="en">English</option>
      </select>

      <!-- ุฒุฑ ุชุจุฏูู ุงููุถุน -->
      <button id="toggle-dark" title="ุชุจุฏูู ุงููุถุน ุงูููุงุฑู / ุงููููู" class="ml-4 p-1 rounded bg-gray-300 dark:bg-gray-700 text-black dark:text-white">
        ๐
      </button>
    </nav>
  </header>

  <!-- ๐๏ธ Banner -->
  <section class="relative">
    <img src="https://images.pexels.com/photos/112460/pexels-photo-112460.jpeg" class="w-full h-[80vh] object-cover" alt="ูุฑุณูุฏุณ" />
    <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
      <h2 id="banner-text" class="text-4xl md:text-6xl font-extrabold text-center">ุงูุชุดู ุงููุฎุงูุฉ ูุน ูุฑุณูุฏุณ</h2>
    </div>
  </section>

  <!-- ๐ ุงูุณูุงุฑุงุช ุงููููุฒุฉ -->
  <section class="py-16 px-6 md:px-20">
    <h2 id="featured-title" class="text-3xl font-bold mb-8 border-r-4 border-black dark:border-white pr-4">ุงูุณูุงุฑุงุช ุงููููุฒุฉ</h2>
    <div id="carsContainer" class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <!-- ุงูุณูุงุฑุงุช ูุชุชุนุฑุถ ููุง -->
    </div>

    <div class="mt-10 text-center">
      <a href="cars.html" id="view-all-cars" class="inline-block bg-black dark:bg-white text-white dark:text-black px-6 py-3 rounded-full hover:bg-gray-800 dark:hover:bg-gray-300 transition">ุงุณุชุนุฑุถ ุฌููุน ุงูุณูุงุฑุงุช</a>
    </div>
  </section>

  <!-- ๐ ุชูุงุตู ุณุฑูุน -->
  <section class="bg-gray-200 dark:bg-gray-800 py-10 text-center">
    <h3 id="contact-title" class="text-xl mb-2">ูู ูุฏูู ุงุณุชูุณุงุฑุ</h3>
    <a href="contact.html" id="contact-link" class="underline hover:text-gray-600 dark:hover:text-gray-300">ุชูุงุตู ูุนูุง ุงูุขู</a>
  </section>

  <!-- ๐ป Footer -->
  <footer class="bg-gray-100 dark:bg-gray-900 py-4 text-center text-sm text-gray-700 dark:text-gray-400">
    &copy; 2025 ูุฑุณูุฏุณ. ุฌููุน ุงูุญููู ูุญููุธุฉ.
  </footer>

  <!-- ๐ ุณูุฑุจุช -->
  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbz4Fjsfuf_1KQtQd_vauNbFu2uyXuF_SxCQuchtn908_gfppMhdH8bKexCsLJT-9pAKeg/exec";

    // ุชุญููู ุงูุณูุงุฑุงุช
    async function loadCars() {
      try {
        const res = await fetch(`${API_URL}?action=getCars`);
        const cars = await res.json();
        const container = document.getElementById('carsContainer');
        container.innerHTML = ''; // ุชูุฑูุบ ุงูุญุงููุฉ
        const top3 = cars.slice(0, 3);

        top3.forEach(car => {
          const card = document.createElement('div');
          card.className = 'bg-white text-black dark:bg-gray-700 dark:text-white rounded-2xl overflow-hidden shadow-lg';
          card.innerHTML = `
            <img src="${car['ุงูุตูุฑุฉURL']}" class="w-full h-52 object-cover" alt="${car['ุงูุงุณู']}">
            <div class="p-4">
              <h3 class="text-xl font-bold mb-2 car-name">${car['ุงูุงุณู']}</h3>
              <p class="text-sm text-gray-700 dark:text-gray-300 mb-2 car-desc">${car['ุงููุตู'].slice(0, 60)}...</p>
              <p class="font-semibold text-lg text-gray-900 dark:text-gray-200 mb-4 car-price">ุงูุณุนุฑ: ${car['ุงูุณุนุฑ']}</p>
              <a href="car-details.html?id=${car['ุงูุณูุงุฑุฉID']}" class="inline-block bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded hover:bg-gray-800 dark:hover:bg-gray-300">ุนุฑุถ ุงูุชูุงุตูู</a>
            </div>
          `;
          container.appendChild(card);
        });

        applyLanguage(currentLang); // ุชุทุจูู ุงููุบุฉ ุนูู ูุญุชูู ุงูุณูุงุฑุงุช
      } catch (err) {
        console.error("ุฎุทุฃ ูู ุฌูุจ ุงูุณูุงุฑุงุช:", err);
      }
    }

    // ุงูุชุฑุฌูุฉ ุจูู ุงููุบุชูู
    const translations = {
      ar: {
        "ูุฑุณูุฏุณ": "ูุฑุณูุฏุณ",
        "ุงูุฑุฆูุณูุฉ": "ุงูุฑุฆูุณูุฉ",
        "ุงูุณูุงุฑุงุช": "ุงูุณูุงุฑุงุช",
        "ุงุญุฌุฒ ุชุฌุฑุจุฉ": "ุงุญุฌุฒ ุชุฌุฑุจุฉ",
        "ุชูุงุตู ูุนูุง": "ุชูุงุตู ูุนูุง",
        "ุงูุชุดู ุงููุฎุงูุฉ ูุน ูุฑุณูุฏุณ": "ุงูุชุดู ุงููุฎุงูุฉ ูุน ูุฑุณูุฏุณ",
        "ุงูุณูุงุฑุงุช ุงููููุฒุฉ": "ุงูุณูุงุฑุงุช ุงููููุฒุฉ",
        "ุงุณุชุนุฑุถ ุฌููุน ุงูุณูุงุฑุงุช": "ุงุณุชุนุฑุถ ุฌููุน ุงูุณูุงุฑุงุช",
        "ูู ูุฏูู ุงุณุชูุณุงุฑุ": "ูู ูุฏูู ุงุณุชูุณุงุฑุ",
        "ุชูุงุตู ูุนูุง ุงูุขู": "ุชูุงุตู ูุนูุง ุงูุขู",
        "ุงูุณุนุฑ:": "ุงูุณุนุฑ:",
        "ุนุฑุถ ุงูุชูุงุตูู": "ุนุฑุถ ุงูุชูุงุตูู",
        "ุฌููุน ุงูุญููู ูุญููุธุฉ.": "ุฌููุน ุงูุญููู ูุญููุธุฉ."
      },
      en: {
        "ูุฑุณูุฏุณ": "Mercedes",
        "ุงูุฑุฆูุณูุฉ": "Home",
        "ุงูุณูุงุฑุงุช": "Cars",
        "ุงุญุฌุฒ ุชุฌุฑุจุฉ": "Book Test Drive",
        "ุชูุงุตู ูุนูุง": "Contact Us",
        "ุงูุชุดู ุงููุฎุงูุฉ ูุน ูุฑุณูุฏุณ": "Discover Luxury with Mercedes",
        "ุงูุณูุงุฑุงุช ุงููููุฒุฉ": "Featured Cars",
        "ุงุณุชุนุฑุถ ุฌููุน ุงูุณูุงุฑุงุช": "View All Cars",
        "ูู ูุฏูู ุงุณุชูุณุงุฑุ": "Have Questions?",
        "ุชูุงุตู ูุนูุง ุงูุขู": "Contact Us Now",
        "ุงูุณุนุฑ:": "Price:",
        "ุนุฑุถ ุงูุชูุงุตูู": "View Details",
        "ุฌููุน ุงูุญููู ูุญููุธุฉ.": "All rights reserved."
      }
    };

    // ุงูุชุทุจูู ุงูุญุงูู ููุบุฉ
    let currentLang = localStorage.getItem('site-lang') || 'ar';

    // ุชุจุฏูู ุงููุบุฉ ูุชุญุฏูุซ ุงููุตูุต
    function applyLanguage(lang) {
      currentLang = lang;
      localStorage.setItem('site-lang', lang);

      // ุชุบููุฑ ุงุชุฌุงู ุงูุตูุญุฉ
      if (lang === 'ar') {
        document.documentElement.lang = 'ar';
        document.documentElement.dir = 'rtl';
      } else {
        document.documentElement.lang = 'en';
        document.documentElement.dir = 'ltr';
      }

      // ุชุฑุฌูุฉ ูุตูุต ุงูููุฏุฑ ูุงูุฑูุงุจุท
      document.querySelectorAll('.nav-link').forEach(el => {
        const text = el.getAttribute(`data-${lang}`);
        if (text) el.textContent = text;
      });

      // ุชุฑุฌูุงุช ุซุงุจุชุฉ ูู ุงูุตูุญุฉ
      document.getElementById('site-title').textContent = translations[lang]["ูุฑุณูุฏุณ"];
      document.getElementById('banner-text').textContent = translations[lang]["ุงูุชุดู ุงููุฎุงูุฉ ูุน ูุฑุณูุฏุณ"];
      document.getElementById('featured-title').textContent = translations[lang]["ุงูุณูุงุฑุงุช ุงููููุฒุฉ"];
      document.getElementById('view-all-cars').textContent = translations[lang]["ุงุณุชุนุฑุถ ุฌููุน ุงูุณูุงุฑุงุช"];
      document.getElementById('contact-title').textContent = translations[lang]["ูู ูุฏูู ุงุณุชูุณุงุฑุ"];
      document.getElementById('contact-link').textContent = translations[lang]["ุชูุงุตู ูุนูุง ุงูุขู"];
      document.querySelector('footer').innerHTML = `&copy; 2025 ${translations[lang]["ูุฑุณูุฏุณ"]}. ${translations[lang]["ุฌููุน ุงูุญููู ูุญููุธุฉ."]}`;

      // ุชุฑุฌูุฉ ุงูุณูุงุฑุงุช (ุฏุงุฎู ุงูุจุทุงูุงุช)
      document.querySelectorAll('.car-price').forEach(el => {
        if (lang === 'ar') {
          el.textContent = el.textContent.replace("Price:", "ุงูุณุนุฑ:");
        } else {
          el.textContent = el.textContent.replace("ุงูุณุนุฑ:", "Price:");
        }
      });
      document.querySelectorAll('a[href^="car-details.html"]').forEach(el => {
        el.textContent = translations[lang]["ุนุฑุถ ุงูุชูุงุตูู"];
      });
    }

    // ุชุจุฏูู ุงููุถุน ุงููููู ูุงูููุงุฑู
    const toggleDarkBtn = document.getElementById('toggle-dark');

    function setDarkMode(isDark) {
      if (isDark) {
        document.documentElement.classList.add('dark');
        toggleDarkBtn.textContent = "โ๏ธ";
        localStorage.setItem('dark-mode', 'true');
      } else {
        document.documentElement.classList.remove('dark');
        toggleDarkBtn.textContent = "๐";
        localStorage.setItem('dark-mode', 'false');
      }
    }

    // ุชุญููู ุญุงูุฉ ุงููุถุน ุงููููู ูู ุงูุชุฎุฒูู
    function loadDarkMode() {
      const saved = localStorage.getItem('dark-mode');
      if (saved === 'true') setDarkMode(true);
      else setDarkMode(false);
    }

    // ุฃุญุฏุงุซ ุงูุชุจุฏูู
    toggleDarkBtn.addEventListener('click', () => {
      const isDark = document.documentElement.classList.contains('dark');
      setDarkMode(!isDark);
    });

    // ุชุบููุฑ ุงููุบุฉ ูู ุงููุงุฆูุฉ
    const langSelect = document.getElementById('lang-select');
    langSelect.value = currentLang;

    langSelect.addEventListener('change', (e) => {
      applyLanguage(e.target.value);
    });

    // ุธููุฑ ุฌููุฉ ุงูุจุงูุฑ ุจุชุฃุซูุฑ
    window.onload = () => {
      loadDarkMode();
      applyLanguage(currentLang);
      loadCars();

      const bannerText = document.getElementById('banner-text');
      setTimeout(() => {
        bannerText.classList.add('show');
      }, 200);
    };
  </script>

</body>
</html> 